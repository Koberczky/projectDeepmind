<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="css/style.css" />
		<link rel="stylesheet" href="css/foundation.css" />
		<script type="text/javascript" src="js/makeRequest.js"></script>
		<script type="text/javascript" src="js/jQuery.js"></script>
		<script src="js/vendor/modernizr.js"></script>
	</head>
	<body>
	<p>
		<a class="ui-btn-top" data-icon="arrow-l" href="javascript:history.back(1) " data-theme="a">Back</a>
		</p>
		<div id="container">
			<div id="buildings"></div>
			<div id="buildingInfo"></div>
		</div>
		<script type="text/javascript">
			var contentArray = new Array();
			var i = 0;
			var buildingName;
			var div = document.getElementById('buildings');
			var div2 = document.getElementById('buildingInfo');
			jQuery(document).ready(function($){
				makeRequest(drawBuildings);
				function drawBuildings(data){
					data.contentlets.forEach(function(building){
						contentArray[i] = '<h3>' + building.fullTitle + '</h3>' + '<p>' + building.description + '</p>';
						buildingName = "<button onclick='clickfn(" + i + ");'" + ">" + building.fullTitle + "</button>" + "<br/>";
						div.innerHTML = div.innerHTML + buildingName;
						i++;
					});
				}
			});
			function clickfn(num){
				var backtolist = "<br/>" + "<button onclick='leave();'" + "> " + "Back to List" + " </button>";
				div2.innerHTML=contentArray[num] + backtolist;
				div2.style.visibility="visible";
				div.style.visibility="hidden";
			}
			function leave(){
				div2.style.visibility="hidden";
				div.style.visibility="visible";
			}
		</script>
		<script src="js/vendor/jquery.js"></script>
		<script src="js/foundation.min.js"></script>
	</body>  
</html>
